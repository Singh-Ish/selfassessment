{% extends 'base.html' %}

{% block content %}

<div class="admindash">


<nav id="snav" class="navbar navbar-expand-lg navbar-light  bg-light sticky-top">




  <ul class="nav nav-pills">
    <li class="nav-item"> <a href="#cstatus" class="nav-link "> Current Status</a>  </li>
    <li class="nav-item"> <a href="#astatus" class="nav-link "> Assessment Status</a>  </li>
    <li class="nav-item"> <a href="#rdownload" class="nav-link "> Download Results </a>  </li>

    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Database</a>
      <div class="dropdown-menu">
        <a class="dropdown-item" href="{{ url_for('user') }}">User</a>
          <a class="dropdown-item" href="{{ url_for('project') }}"> Project</a>
          <a  class="dropdown-item" href="{{ url_for('facultymembers') }}"> Faculty Members</a>
          <a  class="dropdown-item" href="{{ url_for('scomment') }}"> Comments </a>
         <a class="dropdown-item"  href="{{ url_for('arole') }}"> user access  role  </a>

      </div>
    </li>
    <li class="nav-item"> <a href="#uploaders" class="nav-link "> Uploaders </a>  </li>
  </ul>

</nav>


<div class="bd-example" >

<div class="jumbotron">
    <p> <h4> Hey <b> {{user.firstName}} {{user.lastName}}</b>, Welcome to Self Assessment Admin Dashboard </h4><p>
</div>


<br><br>
<div class="container" id="cstatus">
  <h2>Dashboard : student current status</h2>
  <br>
<div class="row">

  <!-- Total Number of students in the system  -->
  <div class="col-xl-3 col-md-6 mb-4">
    <div class="card border-left-primary shadow h-100 py-2">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-2">
            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Total Students</div>
            <div class="h5 mb-0 font-weight-bold text-gray-800">{{tPro}}</div>
          </div>
          
        </div>
      </div>
    </div>
  </div>

  <!-- Students who filled assessment Card Example -->
  <div class="col-xl-3 col-md-6 mb-4">
    <div class="card border-left-success shadow h-100 py-2">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-2">
            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Filled Assessments</div>
            <div class="h5 mb-0 font-weight-bold text-gray-800">{{fAss}}</div>
          </div>
          
        </div>
      </div>
    </div>
  </div>



  <!-- Pending Requests Card Example -->
  <div class="col-xl-3 col-md-6 mb-4">
    <div class="card border-left-warning shadow h-100 py-2">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-2">
            <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Pending Assessments</div>
            <div class="h5 mb-0 font-weight-bold text-gray-800">{{pAss}}</div>
          </div>
         
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<hr class="featurette-divider">

  <div class="satab" id="astatus">
    <h2>Student Assessment Status</h2>
    <br>
    {% include 'other/emailtemp.html'%}

    <br>

    <p>For sending email reminders to all students who hasn't filled the assessment
      <form action="{{ url_for ('emailall') }}">
        <button class="btn btn-outline-primary" type="submit"> Send Reminder to All </button>
      </form>
    </p>
    <br>

    {% include 'status/asstatus.html' %}
    <hr class="featurette-divider">
    <br>
    <br>
    <div id="rdownload">
    <h3>To Download or Export the results</h3>
    <br>
    <div class="container">
    <div class="row">  
      <div clas="col">
    <form action="{{url_for('download')}}" method="POST">
      <button class="btn btn-primary" type="submit" name="button"> <span class="glyphicon glyphicon-save"></span>
        Export result to excel</button>
    </form>
    </div>
    
    <div class="col">
    <form action="{{url_for('emailself')}}" method="POST">
      <button  class="btn btn-primary" type="submit" name="button">Mail the result to Myself</button>

    </form>
    </div>
    </div>
    </div>
    </div>
  </div>


  <br><br>

  <hr class="featurette-divider">

  <div class="jumbotron" id="database">
<h3>Checkout the data in the database </h3>
<br>

{% include 'other/adbdata.html' %}

</div>
<hr class="featurette-divider">


<!-- project uploader  -->
<br><br>

<div id="uploaders">
<h2>Uploaders </h2>
<br>

<div class="container">
  <div class="row">
    <div class="col-sm">
      <!-- project data uploader -->
      <p><b>Project Details </b></p>
      <p>Upload the latest file containig the project details, student details and their group assignment here </p>
      <br>
      <form class="fupload" action="/pupload" method="POST" enctype="multipart/form-data">
        <input type="file" name="file"> <br><br>
        <input type="submit" value=Upload />
      </form>
      <br>
      click her <a href="/project">Preview </a> to view the uploaded project details
    </div>
    <div class="col-sm">
      <!-- user data uploader -->
    <p><b>User Details </b></p>
    <p>Upload the latest file containig the User details, who should have access to this portal</p>
    <br>
    <form class="fupload" action="/uupload" method="POST" enctype="multipart/form-data">
      <input type="file" name="file"> <br><br>
      <input type="submit" value=Upload />
    </form>
    <br>
    click her <a href="/user">Preview </a> to view the Faculty details

    </div>
  </div>
  <br><br>
  <div class="row">
    <div class="col-sm">
      <!-- faculty uploader-->
      <p><b>Faculty Details </b></p>
      <p>Upload the latest file containig the faculty details, who should have access to this portal</p>
      <br>
      <form class="fupload" action="/fdupload" method="POST" enctype="multipart/form-data">
        <input type="file" name="file"> <br><br>
        <input  type="submit" value=Upload />
      </form>
      <br>
      click her <a href="/facultymembers">Preview </a> to view the Faculty details

    </div>
    <div class="col-sm"></div>
    </div>
  </div>
 
<br><br>

<!-- rubic cube uploader -->
<div class="container">
  <p><b>Category Rubric </b></p>  
  <p>Upload the latest rubric file </p>
  <br>
  <form class="fupload" action="/uploader" method="POST" enctype="multipart/form-data">
    <input type="file" name="file">
    <input type="submit" value=Upload />
  </form>
  <br>

  <div class="accordion" id="accordionExample">
    <div class="card">
      <div class="card-header" id="headingThree">
        <h2 class="mb-0">
          <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#categoryrubric"
            aria-expanded="false" aria-controls="collapseThree">
            Category Rubrics Rules
          </button>
        </h2>
      </div>
      <div id="categoryrubric" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
        <div class="card-body">
          <p>{% include 'other/rubics.html'%}</p>
        </div>
      </div>
    </div>
  </div>

  </div>
  </div>

  <br><br>
  </div>
</div>



{% endblock %}
